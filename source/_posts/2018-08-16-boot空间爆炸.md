---
title: The volume boot has only 5.1MB disk space remaining
date: 2018-08-16 10:32:00
updated: 2018-08-16 10:32:00
comments: true
tags:
- linux
- XJBX

categories: [linux]
copyright: true
urlname: boot-space

---



/boot 目录中是系统引导文件和内核，更新内核之后旧内核还存放在里面，安装软件的时候就会提示 /boot 空间不足，佳解的决办法就是将旧内核删除。

1、查看磁盘使用情况

df -h

![df-h](https://upload-images.jianshu.io/upload_images/10342473-72be33f42c99fd30.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

<!--more-->
2、查看正在使用的内核版本

uname -a 
uname -r
都可以

![Screenshot from 2018-08-16 10-02-08.png](https://upload-images.jianshu.io/upload_images/10342473-166eb6d61884e489.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![Screenshot from 2018-08-16 10-24-54.png](https://upload-images.jianshu.io/upload_images/10342473-8541c9d02f4d2fa0.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

3、查看系统中存在的内核版本

dpkg --get-selections | grep linux
（当出现deibstall,则说明已经删除）
![Screenshot from 2018-08-16 10-22-24.png](https://upload-images.jianshu.io/upload_images/10342473-0753709913b6887c.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

4、把低于当前版本的内核删掉

sudo apt-get remove linux-image-4.13..0-41-generic
sudo apt-get autoremove linux-image-4.13..0-41-generic
都可以，至于autoremove 和remove的区别，我先用remove再用autoremove实验了一下，发现remove只能删除指定的image，而autoremove则可以把这个内核相关的“linux-headers-4.xx.x-xx”等东西删掉，删的更加彻底。

![Screenshot from 2018-08-16 10-11-00.png](https://upload-images.jianshu.io/upload_images/10342473-62b5dacc8d3474c7.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

![Screenshot from 2018-08-16 10-30-02.png](https://upload-images.jianshu.io/upload_images/10342473-a6ed667a9d07717b.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)

5、删完之后df -h
![Screenshot from 2018-08-16 10-32-10.png](https://upload-images.jianshu.io/upload_images/10342473-6781a1c8351bed25.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1240)
